Version 4
SHEET 1 2732 2240
WIRE -944 -176 -992 -176
WIRE -736 -176 -784 -176
WIRE -544 -176 -592 -176
WIRE -992 -144 -992 -176
WIRE -784 -144 -784 -176
WIRE -592 -144 -592 -176
WIRE 512 -96 464 -96
WIRE 672 -96 512 -96
WIRE -48 -80 -96 -80
WIRE 64 -80 32 -80
WIRE 816 -80 736 -80
WIRE 912 -80 896 -80
WIRE 1008 -80 976 -80
WIRE -208 -64 -240 -64
WIRE -96 -64 -96 -80
WIRE -96 -64 -128 -64
WIRE 512 -64 512 -96
WIRE 1008 -64 1008 -80
WIRE -992 -48 -992 -64
WIRE -784 -48 -784 -64
WIRE -592 -48 -592 -64
WIRE -240 -48 -240 -64
WIRE -96 16 -96 -64
WIRE -80 16 -96 16
WIRE -864 32 -960 32
WIRE -672 32 -768 32
WIRE 64 32 64 -80
WIRE 64 32 -16 32
WIRE 80 32 64 32
WIRE 192 32 160 32
WIRE 240 32 192 32
WIRE -960 48 -960 32
WIRE -864 48 -864 32
WIRE -768 48 -768 32
WIRE -672 48 -672 32
WIRE -224 48 -272 48
WIRE -128 48 -160 48
WIRE -80 48 -128 48
WIRE 192 64 192 32
WIRE -128 80 -128 48
WIRE 512 96 512 16
WIRE 672 96 512 96
WIRE 816 112 736 112
WIRE 912 112 896 112
WIRE 1008 112 976 112
WIRE 512 128 512 96
WIRE 1008 128 1008 112
WIRE -960 144 -960 128
WIRE -864 144 -864 128
WIRE -768 144 -768 128
WIRE -768 144 -864 144
WIRE -672 160 -672 128
WIRE -624 160 -672 160
WIRE -128 176 -128 160
WIRE 192 176 192 128
WIRE -816 288 -992 288
WIRE 512 288 512 208
WIRE 672 288 512 288
WIRE 816 304 736 304
WIRE 912 304 896 304
WIRE 1008 304 976 304
WIRE -144 320 -192 320
WIRE -48 320 -80 320
WIRE 16 320 -48 320
WIRE 512 320 512 288
WIRE 1008 320 1008 304
WIRE -992 352 -992 288
WIRE -912 352 -992 352
WIRE -48 352 -48 320
WIRE -816 368 -816 288
WIRE -816 368 -848 368
WIRE -784 368 -816 368
WIRE -48 448 -48 432
WIRE 512 480 512 400
WIRE 672 480 512 480
WIRE 816 496 736 496
WIRE 912 496 896 496
WIRE 1008 496 976 496
WIRE 512 512 512 480
WIRE 1008 512 1008 496
WIRE 80 560 -224 560
WIRE -224 624 -224 560
WIRE -192 624 -224 624
WIRE -32 640 -128 640
WIRE 80 640 80 560
WIRE 80 640 32 640
WIRE 160 640 80 640
WIRE 192 640 160 640
WIRE 80 656 80 640
WIRE 160 656 160 640
WIRE 512 672 512 592
WIRE 672 672 512 672
WIRE 816 688 736 688
WIRE 912 688 896 688
WIRE 1008 688 976 688
WIRE 512 704 512 672
WIRE 1008 704 1008 688
WIRE 80 752 80 720
WIRE 160 752 160 736
WIRE 512 864 512 784
WIRE 672 864 512 864
WIRE 816 880 736 880
WIRE 912 880 896 880
WIRE 1008 880 976 880
WIRE 512 896 512 864
WIRE 1008 896 1008 880
WIRE 512 1056 512 976
WIRE 672 1056 512 1056
WIRE 816 1072 736 1072
WIRE 912 1072 896 1072
WIRE 1008 1072 976 1072
WIRE 512 1088 512 1056
WIRE 1008 1088 1008 1072
WIRE 512 1248 512 1168
WIRE 672 1248 512 1248
WIRE 816 1264 736 1264
WIRE 912 1264 896 1264
WIRE 1008 1264 976 1264
WIRE 512 1280 512 1248
WIRE 1008 1280 1008 1264
WIRE 512 1376 512 1360
FLAG -992 -48 0
FLAG -944 -176 Vcc
FLAG 704 -112 Vcc
FLAG 704 80 Vcc
FLAG 704 272 Vcc
FLAG -960 144 0
FLAG -624 160 Vin
FLAG 1008 -64 0
FLAG 1008 128 0
FLAG 1008 320 0
FLAG -592 -48 0
FLAG -544 -176 Vcompare
FLAG 464 -96 Vcompare
FLAG 672 128 Vrectified_1
FLAG 672 320 Vrectified_1
FLAG 672 -64 Vrectified_1
FLAG -880 336 Vcc
FLAG -880 400 Vee
FLAG -784 -48 0
FLAG -736 -176 Vee
FLAG -912 384 Vin
FLAG -784 368 Vpre
FLAG 704 336 Vee
FLAG 704 144 Vee
FLAG 704 -48 Vee
FLAG 704 464 Vcc
FLAG 704 656 Vcc
FLAG 1008 512 0
FLAG 1008 704 0
FLAG 672 512 Vrectified_1
FLAG 672 704 Vrectified_1
FLAG 704 720 Vee
FLAG 704 528 Vee
FLAG -160 608 Vcc
FLAG -160 672 Vee
FLAG -192 656 Vcoupled_1
FLAG 80 752 0
FLAG 160 752 0
FLAG 160 640 Vrectified_1
FLAG -272 48 Vpre
FLAG -48 64 Vee
FLAG -48 0 Vcc
FLAG -128 176 0
FLAG -240 -48 0
FLAG 192 176 0
FLAG 240 32 Vfiltered_1
FLAG 704 848 Vcc
FLAG 704 1040 Vcc
FLAG 1008 896 0
FLAG 1008 1088 0
FLAG 672 896 Vrectified_1
FLAG 672 1088 Vrectified_1
FLAG 704 1104 Vee
FLAG 704 912 Vee
FLAG 704 1232 Vcc
FLAG 1008 1280 0
FLAG 672 1280 Vrectified_1
FLAG 704 1296 Vee
FLAG 512 1376 0
FLAG -48 448 0
FLAG -192 320 Vfiltered_1
FLAG 16 320 Vcoupled_1
SYMBOL OpAmps\\opamp2 704 -144 R0
SYMATTR InstName U11
SYMATTR Value LM741
SYMBOL voltage -992 -160 R0
SYMATTR InstName OPAMP_PS+
SYMATTR Value 10
SYMBOL OpAmps\\opamp2 704 48 R0
SYMATTR InstName U12
SYMATTR Value LM741
SYMBOL OpAmps\\opamp2 704 240 R0
SYMATTR InstName U13
SYMATTR Value LM741
SYMBOL voltage -960 32 R0
WINDOW 3 -85 143 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 .3 2k)
SYMATTR InstName V2
SYMBOL voltage -864 144 M180
WINDOW 0 24 96 Left 2
WINDOW 3 -85 -62 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 .2 5k)
SYMBOL voltage -768 32 R0
WINDOW 3 -76 146 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 .1 10k)
SYMATTR InstName V4
SYMBOL voltage -672 144 M180
WINDOW 0 24 96 Left 2
WINDOW 3 -78 -62 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0 1 1k)
SYMBOL diode 912 -64 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName LED_11
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL diode 912 128 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName LED_12
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL diode 912 320 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName LED_13
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL res 912 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rled_13
SYMATTR Value {Rled}
SYMBOL res 912 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rled_12
SYMATTR Value {Rled}
SYMBOL res 912 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rled_11
SYMATTR Value {Rled}
SYMBOL voltage -592 -160 R0
SYMATTR InstName COMPARE_PS
SYMATTR Value 4
SYMBOL res 496 -80 R0
SYMATTR InstName Rvd_11
SYMATTR Value {Rvd}
SYMBOL res 496 112 R0
SYMATTR InstName Rvd_12
SYMATTR Value {Rvd}
SYMBOL res 496 304 R0
SYMATTR InstName Rvd_13
SYMATTR Value {Rvd}
SYMBOL OpAmps\\opamp2 -880 304 R0
SYMATTR InstName U1
SYMATTR Value LM741
SYMBOL voltage -784 -160 R0
SYMATTR InstName OPAMP_PS-
SYMATTR Value -10
SYMBOL OpAmps\\opamp2 704 432 R0
SYMATTR InstName U14
SYMATTR Value LM741
SYMBOL OpAmps\\opamp2 704 624 R0
SYMATTR InstName U15
SYMATTR Value LM741
SYMBOL diode 912 512 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName LED_14
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL diode 912 704 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName LED_15
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL res 912 672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rled_15
SYMATTR Value {Rled}
SYMBOL res 912 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rled_14
SYMATTR Value {Rled}
SYMBOL res 496 496 R0
SYMATTR InstName Rvd_14
SYMATTR Value {Rvd}
SYMBOL res 496 688 R0
SYMATTR InstName Rvd_15
SYMATTR Value {Rvd}
SYMBOL OpAmps\\opamp2 -160 576 R0
SYMATTR InstName Urec1
SYMATTR Value LM741
SYMBOL cap 64 656 R0
SYMATTR InstName Crec1
SYMATTR Value 1µ
SYMBOL res 144 640 R0
SYMATTR InstName Rrec1
SYMATTR Value 1Meg
SYMBOL diode -32 656 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName Drec1
SYMATTR Value 1N4148
SYMBOL OpAmps\\opamp2 -48 -32 R0
SYMATTR InstName Ubpf1
SYMATTR Value LM741
SYMBOL cap -160 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value .2µ
SYMBOL res -112 176 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName HPF1_POT
SYMATTR Value {hpf1_POT}
SYMBOL res 176 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName LPF1_POT
SYMATTR Value {lpf1_POT}
SYMBOL cap 176 64 R0
SYMATTR InstName C3
SYMATTR Value .2µ
SYMBOL OpAmps\\opamp2 704 816 R0
SYMATTR InstName U16
SYMATTR Value LM741
SYMBOL OpAmps\\opamp2 704 1008 R0
SYMATTR InstName U17
SYMATTR Value LM741
SYMBOL diode 912 896 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName LED_16
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL diode 912 1088 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName LED_17
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL res 912 1056 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rled_17
SYMATTR Value {Rled}
SYMBOL res 912 864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rled_16
SYMATTR Value {Rled}
SYMBOL res 496 880 R0
SYMATTR InstName Rvd_16
SYMATTR Value {Rvd}
SYMBOL res 496 1072 R0
SYMATTR InstName Rvd_17
SYMATTR Value {Rvd}
SYMBOL OpAmps\\opamp2 704 1200 R0
SYMATTR InstName U18
SYMATTR Value LM741
SYMBOL diode 912 1280 R270
WINDOW 0 72 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName LED_18
SYMATTR Value 1N4148
SYMATTR Description Light Emitting Diode
SYMATTR Type led
SYMBOL res 912 1248 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rled_18
SYMATTR Value {Rled}
SYMBOL res 496 1264 R0
SYMATTR InstName Rvd_18
SYMATTR Value {Rvd}
SYMBOL res 48 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res -112 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap -80 304 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName Ccoupling1
SYMATTR Value 1µ
SYMBOL res -64 336 R0
SYMATTR InstName Rcoupling1
SYMATTR Value 100k
TEXT -1048 560 Left 2 !.include snom211b/lm741.lib
TEXT -1048 680 Left 2 !.tran 0 .02 0 1m
TEXT -1048 -192 Left 2 ;PS
TEXT -1048 16 Left 2 ;Sample Vin
TEXT 488 -144 Left 2 ;LED Module
TEXT -328 -144 Left 2 ;Variable Band-Pass Filter
TEXT -328 -120 Left 2 ;Segment 1
TEXT -1048 864 Left 2 ;.param Crectifier 2u
TEXT -1048 256 Left 2 ;Unity Gain PreAmp
TEXT -1048 896 Left 2 ;.step param Rpre list 5 100 750 3k 5k
TEXT -1048 600 Left 2 !.param Rvd 100
TEXT -1048 640 Left 2 !.param Rled 1k
TEXT -344 -192 Left 2 ;Segment 1
TEXT -1048 936 Left 2 ;.param Rpre 20k
TEXT -1040 976 Left 2 ;PreAmp - Maybe 50k POT for higher gain control?
TEXT -328 512 Left 2 ;No Drop Half-Bridge Rectifier\nSegment 1
TEXT -1048 720 Left 2 !.param hpf1_pot=10k lpf1_pot=50
TEXT -1048 760 Left 2 !.param hpf2_pot=2k lpf2_pot=2k
TEXT -320 808 Left 2 ;Adjust C and R in rectifier for different levels of of sensitivity\nThis varies the time constant give by t=RC\nSo with 1Meg Ohms and 1uF, t=1s
TEXT -328 240 Left 2 ;AC Coupling\nSegment 1
TEXT -1048 512 Left 2 ;Directives
TEXT -1048 816 Left 2 ;Old Directives/Testing
TEXT -320 1016 Left 2 ;Adjust Vcompare depending on input source
TEXT -320 912 Left 2 ;POTs are in series with 50 Ohm resistors\nMin resistance = 50 Ohms : ~16k cutoff frequency\nMax resistance = 10050 Ohms : ~80 cutoff frequency
RECTANGLE Normal -400 -16 -1056 -208 2
RECTANGLE Normal -1056 0 -576 224 2
RECTANGLE Normal 1040 -160 480 16 2
RECTANGLE Normal 1040 32 480 208 2
RECTANGLE Normal 1040 224 480 400 2
RECTANGLE Normal 384 208 -336 -160 2
RECTANGLE Normal -720 464 -1056 240 2
RECTANGLE Normal 1056 1408 -352 -208 2
RECTANGLE Normal 1040 416 480 592 2
RECTANGLE Normal 1040 608 480 784 2
RECTANGLE Normal 240 784 -336 496 2
RECTANGLE Normal 1040 800 480 976 2
RECTANGLE Normal 1040 992 480 1168 2
RECTANGLE Normal 1040 1184 480 1360 2
RECTANGLE Normal 176 480 -336 224 2
RECTANGLE Normal -624 784 -1056 496 2
RECTANGLE Normal -464 1008 -1056 800 2
